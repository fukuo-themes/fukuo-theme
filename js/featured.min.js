const username="fukuo",tags="blog",apiKey="EygUfFKmzfMHjUFCtqLwa3K6i8SGLJsiiozHyPEWNFfRrb6O4W",url=`https://api.tumblr.com/v2/blog/fukuo.tumblr.com/posts/?api_key=${apiKey}&tag=blog`,container=document.getElementsByClassName("homepage__blog")[0];console.log(url);let truncate=(element,limit,after)=>{if(!element||!limit)return;let content=element.innerHTML.trim();content=content.split(" ").slice(0,limit),content=content.join(" ")+(after||""),element.innerHTML=content};axios.get(url).then(response=>{let read=response.data.response;console.log(read);for(let i=0;i<4;i++){let posts=read.posts[i],{id_string:id_string,date:date,reblog_key:reblog_key,note_count:note_count,title:title,is_pinned:is_pinned,type:type,body:body,post_url:post_url,photos:photos,caption:caption,trail:[{blog:{name:username}}]}=posts;const formattedDate=new Date(date),options={year:"numeric",month:"long",day:"numeric"};console.log(formattedDate.toLocaleDateString("en",options));const article=document.createElement("div");if(article.className="cards","text"==type)article.innerHTML=`\n                \n                <div class="cards__inner">\n                    <div class="cards__info">\n                        <div>\n                            <img src="https://api.tumblr.com/v2/blog/${username}.tumblr.com/avatar/96" alt="${username}">\n                            <span>Posted by <a href="https://${username}.tumblr.com/">${username}</a></span>\n                        </div>\n                        <div>\n                            <ul>\n                                <li class="like">\n                                    <a href="" aria-label="Like"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="butt" stroke-linejoin="bevel"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg></a>\n                                </li>\n                                <li><a href="https://www.tumblr.com/reblog/${username}/${id_string}/${reblog_key}" aria-label="Reblog"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="butt" stroke-linejoin="bevel"><path d="M17 2.1l4 4-4 4"/><path d="M3 12.2v-2a4 4 0 0 1 4-4h12.8M7 21.9l-4-4 4-4"/><path d="M21 11.8v2a4 4 0 0 1-4 4H4.2"/></svg></a></li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="cards__date">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="butt" stroke-linejoin="bevel"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> <span>${formattedDate}</span>\n                    </div>\n                    <h2>${title}</h2>\n                    <div class="cards__body">\n                        ${body}\n                    </div>\n                    <a class="cards__button" href="${post_url}" target="_blank">Read more <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="butt" stroke-linejoin="bevel"><path d="M7 17l9.2-9.2M17 17V7H7"/></svg></a>\n                </div>\n                `;else if("photo"==type){let{photos:[{original_size:{url:photo_url}}]}=posts;article.innerHTML=`\n                <figure class="cards__photo">\n                    <img src="${photo_url}">\n                </figure>\n                <div class="cards__inner">\n                    <div class="cards__date">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="butt" stroke-linejoin="bevel"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> <span>${formattedDate}</span>\n                    </div>\n                    <div class="cards__body">\n                        ${caption}\n                    </div>\n                    <a class="cards__button" href="${post_url}" target="_blank">Read more <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="butt" stroke-linejoin="bevel"><path d="M7 17l9.2-9.2M17 17V7H7"/></svg></a>\n                </div>\n                `}truncate(article.querySelector(".cards__body"),50,"..."),container.appendChild(article),!0===is_pinned&&article.classList.add("is-pinned");let actualTitle=article.querySelectorAll("h2");for(let g=0;g<actualTitle.length;g++)"null"===actualTitle[g].textContent&&(actualTitle[g].style.display="none");const tumblr_blog=document.querySelectorAll(".tumblr_blog");for(let j=0;j<tumblr_blog.length;j++)tumblr_blog[j].parentNode.parentNode.removeChild(tumblr_blog[j].parentNode)}const container_more=document.createElement("div");container_more.className="homepage__blog--more",container_more.innerHTML='\n        <a class="cards__button is--secondary" href="/blog" target="_blank">View more on the blog section <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="butt" stroke-linejoin="bevel"><path d="M7 17l9.2-9.2M17 17V7H7"></path></svg></a>\n        ',document.querySelector(".homepage__blog").appendChild(container_more)}).catch(err=>console.error(err));